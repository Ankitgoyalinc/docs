<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../..//img/favicon_ic.ico">

        <title>User management - Gluu Servers</title>

        <link href="../../..//css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../..//css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../..//css/prettify-1.0.css" rel="stylesheet">
        <link href="../../..//css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../../"><img src="../../..//img/logo.png" ></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    
                        <li >
                            <a href="../../../">Home</a>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Admin Guide <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../introduction/">Introduction</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../installation/">Installation</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../custom-look/">Customizing Look and Feel</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../certificates/">Certificates</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../">User Management</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../authentication/">Authentication</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../saml/">SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../openid-connect/">OpenID Connect</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../uma/">UMA</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../interception-scripts/">Interception Scripts</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../oxPush/">oxPush</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../cluster/">Cluster Sulution</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../../reference/configuration/">Configuration</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/oxTrust/">oxTrust User Interface</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/ldap/">LDAP Schema</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/lib/">Libraries</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/api/">APIs</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../../articles/gluu-server-ce/">Try Gluu Server CE - Quickstart</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/apache-saml/">Apache SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/java-saml/">Java SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/google-saml/">Google SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/apache-oauth2/">Apache OpenID Connect / UMA</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/js-connect/">JavaScript OpenID Connect RP</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/java-connect/">Java OpenID Connect RP</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/scim-client/">Java SCIM client</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/benchmarking/">Gluu Server Benchmark</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../scim/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../registration/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/GluuFederation/docs">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                <li>
                <!--<form action="." method="get" class="form-inline">-->
                    <!--<div class="search-box">-->
                        <!--<input type="text" value="" class="search-text" placeholder="Search" />-->
                        <!--<input type="submit" value="Search" class="search-tag"/>-->
                    <!--</div>-->
                <!--</form>-->

                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3">
                <div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
       
        <li class="main active"><a href="#ldap-synchronization-aka-cache-refresh">LDAP Synchronization a.k.a. Cache Refresh</a></li>
        
            <li><a href="#customer-backend-keyattributes">Customer backend key/attributes</a></li>
        
            <li><a href="#source-backend-ldap-servers">Source Backend LDAP servers</a></li>
        
            <li><a href="#inum-ldap-server">Inum LDAP server</a></li>
        
            <li><a href="#refresh-method">Refresh method</a></li>
        
       
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="ldap-synchronization-aka-cache-refresh">LDAP Synchronization a.k.a. Cache Refresh</h1>
<p>We call it "Cache Refresh". “Cache Refresh” was built by Gluu to pull user
information from a backend customer Active Directory / LDAP server. Cache
Refresh dynamically syncs user information from the customers backend data
source to the Gluu Server in order to maximize performance. Due to the sensitive
nature of this feature (any incorrect action can destroy the data inside the
Gluu Server), it is highly recommended that administrator should sync and try
Cache Refresh in staging environment before production. </p>
<p>In order to access this feature go to: Configuration → Cache Refresh. </p>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_1.png?raw=true" /></p>
<ul>
<li><em>Last run</em> : Last run shows the date and time of latest Cache Refresh cycle completion.</li>
<li><em>Updates at the last run</em> : Total number of users who have been updated in last Cache Refresh cycle. For example, the organization updated a user’s email address or modified an attribute (i.e userPrincipalName ) in their backend Active Directory / LDAP. </li>
<li><em>Problem at the last run</em> : How many user changes have been “rejected” by Gluu Server during the update. There are various reasons why the Gluu Server may reject changes.</li>
</ul>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_2.png?raw=true" /></p>
<h2 id="customer-backend-keyattributes">Customer backend key/attributes</h2>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_3.png?raw=true" /></p>
<ul>
<li><em>Key attribute</em> : The unique key attribute of backend Active Directory / LDAP server. i.e: sAMAccountname for any Active Directory.</li>
<li><em>Object class</em> :  OCs of backend Active Directory/LDAP which has permission to talk to Gluu Server Cache Refresh. i.e: person, organizationalPerson, user etc.</li>
<li><em>Source attribute</em> : List of attributes which will be pulled and read by Gluu Server.</li>
<li><em>Custom LDAP filter</em> : If there is any custom searching required, this filtering can be used. i.e: “sn=*” value of this field ensures that “every user must have an attribute named SN”</li>
</ul>
<h2 id="source-backend-ldap-servers">Source Backend LDAP servers</h2>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_4.png?raw=true" /></p>
<p>This section allows the Gluu Server to connect to the Organization’s backend
Active directory / LDAP server. </p>
<ul>
<li><em>Name</em> : Keep the value “source”</li>
<li><em>Use Anonymous Bind</em> : Some may not allow user/password connections to their backend. Enable this if that applies to your organization. Bind DN: Username to connect backend.</li>
<li><em>Use SSL</em>: If backend server allows SSL connectivity, use this feature</li>
<li><em>Max connections</em> : Total number of simultaneous connections which are allowed to read backend Active Directory / LDAP. It’s better to keep this value from 2 to 3.</li>
<li><em>Server</em> : Backend Active Directory / LDAP server hostname with port. i.e: backend.organization.com:636 or backend.organization.com:389.  If Organization has a failover server, click “Add server” (below the previously provided server hostname ) and add more hostnames with port.</li>
<li><em>Base DN</em> : Location of the Active Directory / LDAP tree, where the Gluu Server will connect to read user information.</li>
<li><em>Enabled</em> : After the server administrator has entered all values, checking ‘Enabled’ will save and push all changes.</li>
<li><em>Change Bind Password</em> : New password / Changed password can be provided with this feature.</li>
</ul>
<p>If any organization has more than one Active Directory / LDAP server, click on
“Add source LDAP server” and add the additional server’s informations like
before. Please note that a “Failover server” is NOT “A new server". </p>
<h2 id="inum-ldap-server">Inum LDAP server</h2>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_5.png?raw=true" /></p>
<p>This section of the application allows the server administrator to connect the
Gluu Server’s internal LDAP.</p>
<ul>
<li><em>Name</em> : Name of Gluu LDAP server</li>
<li><em>Bind DN</em> : Username to connect.</li>
<li><em>Use SSL</em> :  Yes</li>
<li><em>Max connections</em> : Gluu recommends 2</li>
<li><em>Server</em> : Server’s hostname with port</li>
<li><em>Base DN</em> : Gluu Server LDAP tree which is allowed for user’s information.</li>
<li><em>Enabled</em> : Enabling this feature will save values inside the Gluu Server.</li>
<li><em>Change Bind Password</em> : Password to connect the Gluu Server’s LDAP can be applied / changed with this option.</li>
</ul>
<h2 id="refresh-method">Refresh method</h2>
<p>The Gluu Server allows administrators to apply two types of Cache Refresh
mechanism: 1. VDS method, 2. Copy method. </p>
<h3 id="vds-method">VDS method</h3>
<p>An organization with a database like mysql can use the VDS method. It can be enabled via the “Refresh
Method” drop down menu.</p>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_6.png?raw=true" /></p>
<h3 id="copy-method">COPY method</h3>
<p>If the Organization has any kind of Active Directory or LDAP server, they should
use “Copy” method for Cache Refresh operation. Select “Copy” from the “Refresh
Method” drop down menu.</p>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_7.png?raw=true" /></p>
<p>Attribute mapping is an important aspect of the Copy method. In this section,
the Gluu Server administrator can map any attribute from the backend Active
Directory / LDAP to the Gluu Server’s LDAP cache. </p>
<p><img alt="Image" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrustConfiguration/CR/Cache_Refresh_8.png?raw=true" /></p>
<p>Click the “Add source attribute to destination attribute mapping” link and a new
row with two boxes will appear. The left box is for the backend Active Directory
/ LDAP attribute and the right box is for the Gluu Server’s LDAP attribute. In
the above image we are mapping “sAMAccountname” from the backend server to “uid”
in the Gluu Server LDAP.</p>
<p>Every new row is for a new attribute mapping. The Gluu Server Administrator can
delete any mapping by clicking the ‘x’ button on the right side of every row.</p>
<p>Gluu Server Administrator can select any type of Cache Refresh method according
to his/her organization’s choice but there are some values which are unique for
all types of Cache Refresh methods. Those values are: </p>
<ul>
<li>
<p><em>Pooling Interval (minutes)</em> :
Interval value for running the Cache Refresh mechanism in the Gluu Server. It is
highly recommend not to keep this value BELOW 15 mins.</p>
</li>
<li>
<p><em>Script File Name</em> :
Gluu Server Cache Refresh can accept any kind of Jython script which might help
to calculate any custom / complex attribute. i.e: eduPersonScopedAffiliation
calculation is a highly targeted field where such type of scripts can be use.</p>
</li>
<li>
<p><em>Snapshot Folder</em> : 
Every cycle of Gluu Server Cache Refresh cycle save a overall snapshot and
problem-list record on a specified location. This is the place where that
location can be added. From these snapshots a Gluu Server Administrator can
easily decide whether Cache Refresh synced all users or not. Generally user’s
record which are rejected enclosed in problem-list file. An overall report is
being displayed at the top of this Cache Refresh page “Updated at the last run”
and “Problems at the last run” section which we described previously.</p>
</li>
<li>
<p><em>Snapshot count</em> : 
Total number of allowed snapshots to be saved in VM’s hard drive. Gluu
recommends 20. </p>
</li>
<li>
<p><em>Update</em> :
After completion of every entry, hit this button to apply the changes in Gluu
Server.</p>
</li>
<li>
<p><em>Update and Validate script</em> :
If Cache Refresh has any custom script ( i.e Jython script ), this button can be
used to “test” the script’s operation.</p>
</li>
</ul>
</div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Copyright &copy; 2014, Gluu, Inc.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../..//js/bootstrap-3.0.3.min.js"></script>
        <script src="../../..//js/prettify-1.0.min.js"></script>
        <script src="../../..//js/base.js"></script>
        
    </body>
</html>