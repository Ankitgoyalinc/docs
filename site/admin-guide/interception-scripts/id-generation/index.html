<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../..//img/favicon_ic.ico">

        <title>Interception scripts - Gluu Servers</title>

        <link href="../../..//css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../..//css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../..//css/prettify-1.0.css" rel="stylesheet">
        <link href="../../..//css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../../"><img src="../../..//img/logo.png" ></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    
                        <li >
                            <a href="../../../">Home</a>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Admin Guide <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../introduction/">Introduction</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../installation/">Installation</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../custom-look/">Customizing Look and Feel</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../certificates/">Certificates</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../user-management/">User Management</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../authentication/">Authentication</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../saml/">SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../openid-connect/">OpenID Connect</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../uma/">UMA</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../">Interception Scripts</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../oxPush/">oxPush</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../cluster/">Cluster Sulution</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../../reference/configuration/">Configuration</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/oxTrust/">oxTrust User Interface</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/ldap/">LDAP Schema</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/lib/">Libraries</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../reference/api/">APIs</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                            
                                
                                    <li >
                                        <a href="../../../articles/gluu-server-ce/">Try Gluu Server CE - Quickstart</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/apache-saml/">Apache SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/java-saml/">Java SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/google-saml/">Google SAML</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/apache-oauth2/">Apache OpenID Connect / UMA</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/js-connect/">JavaScript OpenID Connect RP</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/java-connect/">Java OpenID Connect RP</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/scim-client/">Java SCIM client</a>
                                    </li>
                                
                            
                                
                                    <li >
                                        <a href="../../../articles/benchmarking/">Gluu Server Benchmark</a>
                                    </li>
                                
                            
                            </ul>
                        </li>
                    
                
                
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../authorization/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../attribute-transformation/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/GluuFederation/docs">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                <li>
                <!--<form action="." method="get" class="form-inline">-->
                    <!--<div class="search-box">-->
                        <!--<input type="text" value="" class="search-text" placeholder="Search" />-->
                        <!--<input type="submit" value="Search" class="search-tag"/>-->
                    <!--</div>-->
                <!--</form>-->

                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3">
                <div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
       
        <li class="main active"><a href="#id-generation-script">ID Generation Script</a></li>
        
            <li><a href="#api-document">API Document</a></li>
        
            <li><a href="#data-types">Data Types</a></li>
        
       
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="id-generation-script">ID Generation Script</h1>
<p>Gluu Server allows to generate different types of ID for internal objects. It's possible to hook own id generation script which will define how id should look like. Typically during definition of such script author MUST take care also about uniqueness of ID generated by custom id generation script. ID Generation Script MUST implement IdGenerator java interface.</p>
<p>Interface:</p>
<pre class="prettyprint well"><code>    public interface IdGenerator {

        /**

         * Generates id.
         *
         * @param p_idType   id type : use to specify entity type, i.e. person, client
         * @param p_idPrefix id prefix : If you want to prefix all ids, use this, otherwise pass ""
         * @return generated id as string
         */
        public String generateId(String p_idType, String p_idPrefix);
    }
</code></pre>
<p>Sample Script on Python :</p>
<pre class="prettyprint well"><code>    import uuid

    class ExampleDomainUniqueIdPolicyClass(IdGenerator):
        def generateId(self, entityType, prefix):
            print "Generating %s ID for prefix %s" % entityType, prefix
            # make a UUID using an MD5 hash of a namespace UUID and a name
            id = uuid.uuid3(uuid.NAMESPACE_DNS, 'example.co')
            return "%s%s" % (prefix, id)
</code></pre>
<p>ID Generation script typically is located in configuration folder of Web Application Container. E.g. for tomcat it's:</p>
<pre class="prettyprint well"><code>    {tomcat_home}/conf/oxauth-id-gen.py
</code></pre>
<p>Note: Internally Gluu Server uses Jython to interpret python code.</p>
<h2 id="api-document">API Document</h2>
<h3 id="id">/id</h3>
<h4 id="overview">Overview</h4>
<h4 id="idprefixtype"><code>/id/{prefix}/{type}/</code></h4>
<h5 id="generatehtmlinum">generateHtmlInum</h5>
<p><strong>GET</strong> <code>/id/{prefix}/{type}/</code></p>
<p>Generates ID for given prefix and type.
Generates ID for given prefix and type.</p>
<h6 id="url">URL</h6>
<pre class="prettyprint well"><code>http://gluu.org/id/{prefix}/{type}/
</code></pre>
<h6 id="parameters">Parameters</h6>
<ul>
<li>
<p>path</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>prefix</th>
        <td>true</td>
        <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
        <td>string</td>
    </tr>
    <tr>
        <th>type</th>
        <td>true</td>
        <td>Type of id</td>
        <td>string</td>
    </tr>
</table>
- header</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>Authorization</th>
        <td>false</td>
        <td></td>
        <td>string</td>
    </tr>
</table></p>
</li>
</ul>
<h6 id="response">Response</h6>
<p><a href="#String[Response]">String[Response]</a></p>
<h6 id="errors">Errors</h6>
<p><table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table></p>
<hr />
<h5 id="generatexmlinum">generateXmlInum</h5>
<p><strong>GET</strong> <code>/id/{prefix}/{type}/</code></p>
<p>Generates ID for given prefix and type.
Generates ID for given prefix and type.</p>
<h6 id="url_1">URL</h6>
<pre class="prettyprint well"><code>http://gluu.org/id/{prefix}/{type}/
</code></pre>
<h6 id="parameters_1">Parameters</h6>
<ul>
<li>
<p>path</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>prefix</th>
        <td>true</td>
        <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
        <td>string</td>
    </tr>
    <tr>
        <th>type</th>
        <td>true</td>
        <td>Type of id</td>
        <td>string</td>
    </tr>
</table>
- header</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>Authorization</th>
        <td>false</td>
        <td></td>
        <td>string</td>
    </tr>
</table></p>
</li>
</ul>
<h6 id="response_1">Response</h6>
<p><a href="#String[Response]">String[Response]</a></p>
<h6 id="errors_1">Errors</h6>
<p><table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table></p>
<hr />
<h5 id="generatetextinum">generateTextInum</h5>
<p><strong>GET</strong> <code>/id/{prefix}/{type}/</code></p>
<p>Generates ID for given prefix and type.
Generates ID for given prefix and type.</p>
<h6 id="url_2">URL</h6>
<pre class="prettyprint well"><code>http://gluu.org/id/{prefix}/{type}/
</code></pre>
<h6 id="parameters_2">Parameters</h6>
<ul>
<li>
<p>path</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>prefix</th>
        <td>true</td>
        <td></td>
        <td>string</td>
    </tr>
    <tr>
        <th>type</th>
        <td>true</td>
        <td></td>
        <td>string</td>
    </tr>
</table>
- header</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>Authorization</th>
        <td>false</td>
        <td></td>
        <td>string</td>
    </tr>
</table></p>
</li>
</ul>
<h6 id="response_2">Response</h6>
<p><a href="#String[Response]">String[Response]</a></p>
<h6 id="errors_2">Errors</h6>
<p><table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table></p>
<hr />
<h5 id="generatejsoninum">generateJsonInum</h5>
<p><strong>GET</strong> <code>/id/{prefix}/{type}/</code></p>
<p>Generates ID for given prefix and type.
Generates ID for given prefix and type.</p>
<h6 id="url_3">URL</h6>
<pre class="prettyprint well"><code>http://gluu.org/id/{prefix}/{type}/
</code></pre>
<h6 id="parameters_3">Parameters</h6>
<ul>
<li>
<p>path</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>prefix</th>
        <td>true</td>
        <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
        <td>string</td>
    </tr>
    <tr>
        <th>type</th>
        <td>true</td>
        <td>Type of id</td>
        <td>string</td>
    </tr>
</table>
- header</p>
<p><table border="1">
    <tr>
        <th>Parameter</th>
        <th>Required</th>
        <th>Description</th>
        <th>Data Type</th>
    </tr>
    <tr>
        <th>Authorization</th>
        <td>false</td>
        <td></td>
        <td>string</td>
    </tr>
</table></p>
</li>
</ul>
<h6 id="response_3">Response</h6>
<p><a href="#String[Response]">String[Response]</a></p>
<h6 id="errors_3">Errors</h6>
<p><table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table></p>
<hr />
<h2 id="data-types">Data Types</h2>
</div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Copyright &copy; 2014, Gluu, Inc.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../..//js/bootstrap-3.0.3.min.js"></script>
        <script src="../../..//js/prettify-1.0.min.js"></script>
        <script src="../../..//js/base.js"></script>
        
    </body>
</html>