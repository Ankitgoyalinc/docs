<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OpenID Connect - Gluu Docs</title>
  

  <link rel="shortcut icon" href="../../img/gluu_favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Gluu Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
			
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
		
          
			
            <li>
    <ul class="subnav">
    <li><span>Admin Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../introduction/">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../getting-started/">Getting Started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deployment/">Deployment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../certificates/">Certificates</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../configuration/">Configuration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../design-customizations/">Design and Customizations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ldap/">LDAP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../saml/">SAML</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">OpenID Connect</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#overview">Overview</a></li>
                
            
                <li class="toctree-l3"><a href="#new-jargon-taxonomy">New Jargon (taxonomy)</a></li>
                
            
                <li class="toctree-l3"><a href="#discovery">Discovery</a></li>
                
            
                <li class="toctree-l3"><a href="#scopes">Scopes</a></li>
                
            
                <li class="toctree-l3"><a href="#client-registration">Client Registration</a></li>
                
                    <li><a class="toctree-l4" href="#custom-client-registration">Custom Client Registration</a></li>
                
                    <li><a class="toctree-l4" href="#search-clients">Search clients</a></li>
                
                    <li><a class="toctree-l4" href="#view-client">View client</a></li>
                
            
                <li class="toctree-l3"><a href="#session-management">Session management</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../uma/">UMA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../user-management/">User Management</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../personal/">Personal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../faq/">FAQ</a>
        
    </li>

        
    </ul>
<li>
		
          
			
            <li>
    <ul class="subnav">
    <li><span>Reference</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/api/">API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interception-scripts/">Interception Scripts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/ldap-namespace/">LDAP Namespace</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/ldap-schema/">LDAP Schema</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/lib/">Gluu Library</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/oxAuth/">OxAuth</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/oxd/">OxD</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/oxTrust/">OxTrust</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/mod_auth_oidc/">Apache Module</a>
        
    </li>

        
    </ul>
<li>
		
          
			
            <li>
    <ul class="subnav">
    <li><span>Articles</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/cache-refresh/">Cache Refresh Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/apache-saml/">Apache SAML SP Config</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/google-saml/">SAML SSO with Google</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/salesforce-sso/">SAML SSO with Salesforce</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/hobsons-saml/">SAML SSO with Hobsons</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/iis-saml/">IIS SAML Config</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/benchmarking/">Benchmarking</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/custom-attributes/">Custom Attributes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/gluu-server-ce/">Gluu CE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/operations/">Gluu CE Operations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/java-connect/">OpenID in Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/js-connect/">OpenID from JavaScript</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/java-saml/">Java SAML Library</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/scim-client/">SCIM API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/mod-auth-oidc/">mod_auth_oidc Installation Guide</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/test-shib2/">Testing Shib2</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../articles/social-login-google/">Social Login with Google</a>
        
    </li>

        
    </ul>
<li>
		
          
		
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Gluu Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Admin Guide &raquo;</li>
        
      
    
    <li>OpenID Connect</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/GluuFederation/docs" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><strong>Table of Contents</strong> </p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#new-jargon-taxonomy">New Jargon (taxonomy)</a></li>
<li><a href="#discovery">Discovery</a></li>
<li><a href="#scopes">Scopes</a></li>
<li><a href="#client-registration">Client Registration</a><ul>
<li><a href="#custom-client-registration">Custom Client Registration</a></li>
<li><a href="#search-clients">Search clients</a></li>
<li><a href="#view-clients">View client</a></li>
</ul>
</li>
<li><a href="#session-management">Session management</a></li>
</ul>
<h1 id="overview">Overview</h1>
<p>Since <a href="http://www.gluu.co/.fm8t">Interop 4</a> the Gluu Server has one of the most comprehensive
implementations of OpenID Connect. The current results from <a href="http://www.gluu.co/.iwjk">IntereOp 5</a>,
while not final, also put the Gluu Server at the top of the list.</p>
<p><a href="http://openid.net/connect">OpenID Connect</a> ("Connect") is a standard profile of OAuth2 which defines a protocol to enable a website or mobile application to send a person to a domain for authentication and required attributes (e.g. email address, first name, last name, etc.). Connect also provides some of the plumbing around authentication to automate how this happens. If a person is visiting a website for the  first time, the process that OpenID Connect defines is 100% bootstrapable by the website.  This is really critical for Interet scalability. To visit someone's website, or to send someone email, you don't need to get the system administrators involved. Connect provides the same type of scalable infrastructure, and promises to define a base level domain identification.</p>
<h1 id="new-jargon-taxonomy">New Jargon (taxonomy)</h1>
<p>If you are familiar with SAML, there are many parallels in OpenID Connect, but the jargon (or "taxonomy") is different. For example, instead of attributes, we have "user claims". Instead of Service Provider (SP), we have "client". Instead of Identity Provider (IDP), its OpenID Provider (OP).  </p>
<h1 id="discovery">Discovery</h1>
<p>The first thing you want to know about any OAuth2 API is where are the endpoints (i.e. 
what are the URLs where you call the APIs). OpenID Connect provides a very simple
mechanism to accomlish this: make a GET request to <code>https://&lt;domain&gt;/.well-known/openid-configuration</code></p>
<p><a href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery</a> is based on 
a previous standard called <a href="http://en.wikipedia.org/wiki/WebFinger">WebFinger</a>. </p>
<p>If you want to try a sample discovery request, you can make a GET request to <a href="https://idp.gluu.org/.well-known/openid-configuration">Gluu's OpenID Connect Discovery Page</a></p>
<h1 id="scopes">Scopes</h1>
<p>In SAML, the IDP releases attributes to the SP. OpenID Connect provides similar functionality, 
with more flexibility in case the person needs to self-approve the release of information from the IDP 
to the website (or mobile application). In OAuth2, scopes can be used for various purposes. 
OpenID Connect uses OAuth2 scopes to "group" attributes. For example, we could have a scope called "address"
that includes the street, city, state, and country user claims. The Gluu Server defines six scopes by default.</p>
<p><img alt="Scopes Screenshot" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_scope.png" /></p>
<p>The Gluu Server Administrator can easily add more scopes in the GUI. Click <em>Add Scope</em> and you'll be presented with the following screen: </p>
<p><img alt="Add Scopes" src="http://www.gluu.org/docs/img/openid_connect/oxtrust_scope_screenshot.png" title="Screenshot of oxTrust add OpenID Connect Scope" /></p>
<p>You'll have the ability to provide a Display Name, Description, whether or not the scope is provided by default, and the claims that are included in the scope. </p>
<p>Default Scope needs some further explanation. When a client uses dynamic client registration, the OpenID Connect specification says that the <code>openid</code> scope should always be released, which contains an identifier for that person, normally the username. If you want to release another scope automatically, set the Default Scope to <code>true</code> for that scope. You can always explicitly release a scope to a certain client later on, but this will require some manual intervention by the domain administrator. </p>
<p>To add more claims, simply click "Add Claim" and you'll be presented with the following screen:</p>
<p><img alt="Add Claims" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_scopeadd.png" /></p>
<h1 id="client-registration">Client Registration</h1>
<p>A client in OAuth2 could be either a website or mobile application. OpenID Connect has an API 
for <a href="http://openid.net/specs/openid-connect-registration-1_0.html">Dynamic Client Registration</a>
which efficiently pushes the task to the application developer. If you do not want to write an
application to register your client, there are a few web pages around that can do the job for 
you. Gluu publishes the <a href="./seed.gluu.org/oxauth-rp">oxAuth-RP</a> and there is also another in
<a href="http://www.gluu.co/php-sample-rp">PHP RP</a></p>
<p>If you can't get the developer to help themselves, or if your domain doesn't want to allow
dynamic client registration, you can use the oxTrust admin GUI to manually add trusted clients.</p>
<p>Available <strong>Clients</strong> can be seen by hitting the <strong>Search</strong> button leaving the search box empty.</p>
<p><img alt="Client List" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_clientlist.png" /></p>
<p>A new client can be added by clicking the <strong>Add Client</strong> link.</p>
<p><img alt="Add Client" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_addclient.png" /></p>
<p>Clicking on the <em>Add Client</em> link allows the Gluu Server Administrator to add new client. The search box can be used to look up previously added clients as well. The screenshot below shows the interface to add a new client.</p>
<p><img alt="Add new client" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_newclient.png" /></p>
<ul>
<li>
<p><em>Display Name:</em> This contains the recognizable and unique display name of the client.</p>
</li>
<li>
<p><em>Client Secret:</em> This is the Data Encryption Standard scheme used by Confidential Clients to authenticate the token endpoints. The value for the secret can be inserted manually, but it is highly recommened to use the Dynamic Client Registration Endpoint. The Gluu oxAuth provides a random, generated Client Secret in the Dynamic Client Registration procedure.</p>
</li>
<li>
<p><em>Application Type:</em> There are two types of applications, Web and Native. The different configuration for the different application types are given below.</p>
<ul>
<li>
<p><em>Web:</em> The Dynamic Client Registration is the default for web. In this type the redirect_uri for implicit grant type must be a real hostname with HTTPS. This type is not approved any localhost or HTTP. The Web Application uses the Authorization code flow for Clients which can maintain a Client Secret between the URIs and Authorization server.</p>
</li>
<li>
<p><em>Native:</em> Custom URI for Native type application must follow HTTP with localhost. This is suitable for mobile app which cannot maintain the Client Secret between itself and the Authorization Server.</p>
</li>
</ul>
</li>
<li>
<p><em>Algorithm:</em> oxAuth supports various types of Signature and Encryption Algorithms for authorizing request parameter passing, ID token signature and encryption, Signing return responses, Encrypt User Info Endpoints etc.</p>
</li>
</ul>
<p>It is a good practice to implement ID Token Signatures with the RSA SHA-256 Algorithm (algorithm value RS256). Additionally oxAuth also supports other algorithms that are listed below.</p>
<p><em>Signature Algorithms:</em> HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512.</p>
<p><em>Encryption, Key Encryption Algorithms:</em> RSA1_5, RSA-OAEP, A128KW, A256KW.</p>
<p><em>Block Encryption Algorithms:</em> A128CBC+HS256, A256CBC+HS612, A128GCM, A256GCM,</p>
<ul>
<li>
<p><em>Pre Authorization:</em> Gluu server disables this option by default, but it is possible to allow the users to access any URL according to the Organization Policy by the Gluu Server Administrator.</p>
</li>
<li>
<p><em>Redirect URI:</em> The URI for native or web app can be added using this feature.
<img alt="RedirectURI" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_adduri.png" /></p>
</li>
</ul>
<p>Clicking on <em>Add URI</em> will open a new box to put the hostname in and it is done.</p>
<ul>
<li><em>Add Group:</em> This feature can be used to affiliate specific groups.
<img alt="Add Group" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_addgroup.png" /></li>
</ul>
<p>The existing groups can be listed by hitting the <em>Search</em> button keeping the search phrease blank.</p>
<ul>
<li><em>Add Scopes:</em> This option can be used to add the required scopes in the Gluu Server.
<img alt="Add Scopes" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_addscope.png" /></li>
</ul>
<p>The available scopes can be listed by hitting the <em>Search</em> button keeping the search phrase black and from this the Gluu Server Administrator can select the required scopes.</p>
<ul>
<li><em>Add Response Type:</em> There are three types of responses in the Gluu Server and they are Code, Token and ID Token. The Gluu Server Administrator can select all of them for testing purposes.
<img alt="Response Type" src="https://raw.githubusercontent.com/GluuFederation/docs/master/sources/img/oxTrust/admin_oauth2_response.png" /></li>
</ul>
<h2 id="custom-client-registration">Custom Client Registration</h2>
<p>Using interception scripts you can customize client registration behavior. For example, by default oxAuth allows new clients access to default scopes only. With a custom client registration interception script it iss possible to allow access to more scopes. For instance, we can use redirect_uri to determine if we need to allow access to additional scopes or not. </p>
<p>To access the interface for custom scripts in oxTrust, navigate to Configuration &gt; Custom Scripts &gt; Custom Client Registration. </p>
<p>Take a look at our <a href="./../../reference/interception-scripts/sample-client-registration-script.py">example client registration script</a> for a reference. </p>
<h2 id="search-clients">Search clients</h2>
<p><img alt="" src="http://www.gluu.org/docs/img/openid_connect/oxtrust_search_clients.png" title="Screenshot of oxTrust browse / search clients" /></p>
<h2 id="view-client">View client</h2>
<p><img alt="" src="http://www.gluu.org/docs/img/openid_connect/oxtrust_view_client.png" title="Screenshot of oxTrust view client" /></p>
<h1 id="session-management">Session management</h1>
<p>Logout is a catch-22. There is no perfect answer to logout that satisfies all the requirements
of all the domains on the Internet. For example, large OpenID Providers, like Google, need
a totally stateless implementation--Google cannot track sessions on the server side for every
browser on the Internet. But in smaller domains, server side logout functionality can be 
a convenient solution to cleaning up resources.</p>
<p>The OpenID Connect <a href="http://openid.net/specs/openid-connect-session-1_0.html">Session Management</a> is
still marked as draft, and new mechanisms for logout are in the works. The current specification 
requires Javascript to detect that the session has been ended in the browswer. It works... unless
the tab with the Javascript happens to be closed when the logout event happens on another tab. Also,
inserting Javascript into every page is not feasible for some applications. A new proposal is under
discussion where the OpenID Connect logout API would return <code>IMG</code> HTML tags to the browser
with the logout callbacks of the clients. This way, the browser could call the logout URIs (not
the server). </p>
<p>The Gluu Server is very flexible, and supports both server side session management, and stateless
session management. For server side business logout, the domain admin can use Custom Logout scripts. 
This can be useful to clean up sessions in a legacy SSO system (i.e. SiteMinder), or perhaps
in a portal.</p>
<p>The key for logout is to understand the limitations of logout, and to test the use cases that
are important to you, so you will not be surprised by the behavior when you put your application
into production.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../uma/" class="btn btn-neutral float-right" title="UMA"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../saml/" class="btn btn-neutral" title="SAML"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../saml/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../uma/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
