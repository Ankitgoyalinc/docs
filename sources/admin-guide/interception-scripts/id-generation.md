# ID Generation Script

Gluu Server allows to generate different types of ID for internal objects. It's possible to hook own id generation script which will define how id should look like. Typically during definition of such script author MUST take care also about uniqueness of ID generated by custom id generation script. ID Generation Script MUST implement IdGenerator java interface.

Interface:


        public interface IdGenerator {

            /**

             * Generates id.
             *
             * @param p_idType   id type : use to specify entity type, i.e. person, client
             * @param p_idPrefix id prefix : If you want to prefix all ids, use this, otherwise pass ""
             * @return generated id as string
             */
            public String generateId(String p_idType, String p_idPrefix);
        }


Sample Script on Python :


        import uuid

        class ExampleDomainUniqueIdPolicyClass(IdGenerator):
            def generateId(self, entityType, prefix):
                print "Generating %s ID for prefix %s" % entityType, prefix
                # make a UUID using an MD5 hash of a namespace UUID and a name
                id = uuid.uuid3(uuid.NAMESPACE_DNS, 'example.co')
                return "%s%s" % (prefix, id)

ID Generation script typically is located in configuration folder of Web Application Container. E.g. for tomcat it's:

        {tomcat_home}/conf/oxauth-id-gen.py

Note: Internally Gluu Server uses Jython to interpret python code.

## API Document


### /id

#### Overview


#### `/id/{prefix}/{type}/`
##### generateHtmlInum
**GET** `/id/{prefix}/{type}/`

Generates ID for given prefix and type.
Generates ID for given prefix and type.

###### URL
    http://gluu.org/id/{prefix}/{type}/
###### Parameters
- path

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>prefix</th>
            <td>true</td>
            <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
            <td>string</td>
        </tr>
        <tr>
            <th>type</th>
            <td>true</td>
            <td>Type of id</td>
            <td>string</td>
        </tr>
    </table>
- header

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>Authorization</th>
            <td>false</td>
            <td></td>
            <td>string</td>
        </tr>
    </table>

###### Response
[String[Response]](#String[Response])


###### Errors
<table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table>


- - -
##### generateXmlInum
**GET** `/id/{prefix}/{type}/`

Generates ID for given prefix and type.
Generates ID for given prefix and type.

###### URL
    http://gluu.org/id/{prefix}/{type}/
###### Parameters
- path

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>prefix</th>
            <td>true</td>
            <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
            <td>string</td>
        </tr>
        <tr>
            <th>type</th>
            <td>true</td>
            <td>Type of id</td>
            <td>string</td>
        </tr>
    </table>
- header

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>Authorization</th>
            <td>false</td>
            <td></td>
            <td>string</td>
        </tr>
    </table>

###### Response
[String[Response]](#String[Response])


###### Errors
<table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table>


- - -
##### generateTextInum
**GET** `/id/{prefix}/{type}/`

Generates ID for given prefix and type.
Generates ID for given prefix and type.

###### URL
    http://gluu.org/id/{prefix}/{type}/
###### Parameters
- path

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>prefix</th>
            <td>true</td>
            <td></td>
            <td>string</td>
        </tr>
        <tr>
            <th>type</th>
            <td>true</td>
            <td></td>
            <td>string</td>
        </tr>
    </table>
- header

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>Authorization</th>
            <td>false</td>
            <td></td>
            <td>string</td>
        </tr>
    </table>

###### Response
[String[Response]](#String[Response])


###### Errors
<table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table>


- - -
##### generateJsonInum
**GET** `/id/{prefix}/{type}/`

Generates ID for given prefix and type.
Generates ID for given prefix and type.

###### URL
    http://gluu.org/id/{prefix}/{type}/
###### Parameters
- path

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>prefix</th>
            <td>true</td>
            <td>Prefix for id. E.g. if prefix is @!1111 and server will generate id: !0000 then ID returned by service would be: @!1111!0000</td>
            <td>string</td>
        </tr>
        <tr>
            <th>type</th>
            <td>true</td>
            <td>Type of id</td>
            <td>string</td>
        </tr>
    </table>
- header

    <table border="1">
        <tr>
            <th>Parameter</th>
            <th>Required</th>
            <th>Description</th>
            <th>Data Type</th>
        </tr>
        <tr>
            <th>Authorization</th>
            <td>false</td>
            <td></td>
            <td>string</td>
        </tr>
    </table>

###### Response
[String[Response]](#String[Response])


###### Errors
<table border="1">
    <tr>
        <th>Status Code</th>
        <th>Reason</th>
    </tr>
</table>


- - -

## Data Types
